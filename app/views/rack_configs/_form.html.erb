<% if @rack_config.new_record? %>
  <%= simple_form_for [@customer, @rack_config] do |f| %>
    <%= f.error_notification %>
    <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

    <div class="form-inputs">
      <%= f.hidden_field :customer_id, value: @customer.id %>
      <%= f.input :sku, label: "SKU" %>
    </div>

    <div class="form-actions">
      <%= f.button :submit, "Save", class: "btn btn-outline-primary" %>
      <%= link_to "Cancel", :back, class: "btn btn-outline-secondary" %>
    </div>
  <% end %>

<% elsif @import %>
  <%= form_tag import_rack_config_path, multipart: true do %>

    <div class="form-inputs">
      <%= file_field_tag :file %>
    </div>

    <div class="form-actions">
      <br>
      <%= submit_tag "Import", class: "btn btn-outline-success" %>
      <%= link_to "Cancel", :back, class: "btn btn-outline-secondary" %>
    </div>
  <% end %>

  <div class="row">
    <div class="col-12 col-md-6">
      <h3>Rack component ids</h3>

      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th scope="col">U</th>
            <th scope="col">ID</th>
          </tr>
        </thead>

        <tbody>
          <% @rack_components.each do |component| %>
            <tr>
              <td><%= component.u_location %></td>
              <td><%= component.id %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

<% else %>
  <%= simple_form_for @rack_config do |f| %>
    <%= f.error_notification %>
    <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

    <div class="form-inputs">
      <%= f.input :sku, label: "SKU" %>
    </div>

    <div class="form-actions">
      <%= f.button :submit, "Update", class: "btn btn-outline-primary" %>
      <%= link_to "Cancel", :back, class: "btn btn-outline-secondary" %>
      <%= link_to 'Delete', rack_config, method: :delete, class: "btn btn-outline-danger", data: { confirm: "Are you sure? This action can't be undone!" } %>
    </div>
  <% end %>
<% end %>
