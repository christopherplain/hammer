<div class="col-12 col-md-6">
  <h3><%= orientation.capitalize %> Elevation</h3>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">U</th>
        <th scope="col">Part Number</th>
        <th scope="col">Man/Model</th>
        <th scope="col">SKU</th>
      </tr>
    </thead>

    <tbody>
      <% u_array = [] %>
      <% (rack_u).downto(1) do |u| %>
        <% component = @elevation.rack_components.where(u_location: u, orientation: orientation).first %>
        <% part = component.part if component %>
        <% u_array.push(u) %>

        <% unless part.nil? %>
          <% u_size = component.u_size %>
          <tr>
            <td><%= u_array.shift %></td>
            <td rowspan="<%= u_size %>"><%= part.part_number %></td>
            <td rowspan="<%= u_size %>"><%= part.manufacturer %> <%= part.model %></td>
            <td rowspan="<%= u_size %>"><%= component.sku %></td>
          </tr>

          <% until u_array.empty? %>
            <tr>
              <td><%= u_array.shift %></td>
            </tr>
          <% end %>
        <% end %>
      <% end %>
    </tbody>
  </table>
</div>
